{{- if eq .chezmoi.os "linux" -}}
#!/bin/bash

# ã‚¨ãƒ©ãƒ¼æ™‚ã«åœæ­¢
set -ex

echo "Setting up Linux environment..."

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°
sudo apt update -y
sudo apt upgrade -y

# zshã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
echo "ğŸš Installing zsh..."
if ! command -v zsh &> /dev/null; then
    sudo apt install -y zsh
    echo "âœ… zsh installed successfully"
else
    echo "âœ… zsh is already installed"
fi

# ç¾åœ¨ã®ã‚·ã‚§ãƒ«ãŒzshã§ãªã„å ´åˆã®ã¿å¤‰æ›´
current_shell=$(basename "$SHELL")
if [ "$current_shell" != "zsh" ]; then
    echo "ğŸ”„ Changing default shell to zsh..."
    sudo chsh -s $(which zsh)
    echo "âœ… Default shell changed to zsh"
    echo "âš ï¸  Please log out and log back in for the change to take effect"
else
    echo "âœ… zsh is already the default shell"
fi

{{- end -}}
