{{- if eq .chezmoi.os "darwin" -}}
#!/bin/bash

# „Ç®„É©„ÉºÊôÇ„Å´ÂÅúÊ≠¢
set -ex

echo "Checking Xcode Command Line Tools..."

# Xcode Command Line Tools„Åå„Ç§„É≥„Çπ„Éà„Éº„É´Ê∏à„Åø„Åã„ÉÅ„Çß„ÉÉ„ÇØ
if xcode-select -p &> /dev/null; then
    echo "‚úÖ Xcode Command Line Tools are already installed at: $(xcode-select -p)"
else
    echo "üì¶ Installing Xcode Command Line Tools..."

    # „Ç§„É≥„Çπ„Éà„Éº„É´„ÇíÂÆüË°å
    xcode-select --install

    # „Ç§„É≥„Çπ„Éà„Éº„É´ÂÆå‰∫Ü„Åæ„ÅßÂæÖÊ©ü
    echo "‚è≥ Waiting for installation to complete..."
    echo "   Please follow the installation dialog and press any key when done."
    read -n 1 -s

    # „Ç§„É≥„Çπ„Éà„Éº„É´Á¢∫Ë™ç
    if xcode-select -p &> /dev/null; then
        echo "‚úÖ Xcode Command Line Tools installation completed successfully!"
    else
        echo "‚ùå Xcode Command Line Tools installation failed or incomplete."
        exit 1
    fi
fi
{{- end -}}
